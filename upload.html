<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>XTMODE - CLOUD UPLOADER</title>
    <style>
        body { background: #0f172a; color: white; font-family: sans-serif; padding: 20px; }
        .box { background: #1e293b; padding: 20px; border-radius: 10px; max-width: 600px; margin: auto; }
        textarea { width: 100%; height: 200px; background: #020617; color: #22c55e; border: 1px solid #334155; margin-top: 10px; }
        input { width: 100%; padding: 12px; margin: 10px 0; background: #020617; color: white; border: 1px solid #334155; }
        .btn { width: 100%; padding: 15px; background: #22c55e; color: white; border: none; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>
    <div class="box">
        <h2>XTMODE CLOUD UPLOADER</h2>
        <label>1. Link Tujuan (Mediafire):</label>
        <input type="text" id="target-link" placeholder="Paste link di sini...">
        
        <label>2. Paste Kode HTML Safelink Anda:</label>
        <p style="font-size:11px; color:#94a3b8;">Sistem otomatis mengganti <b>XTMODEPROLINKGET</b></p>
        <textarea id="html-raw"></textarea>
        
        <button class="btn" onclick="uploadKeCloud()">OKE & UPLOAD KE WEB</button>
        <p id="status" style="margin-top:10px; color:#fbbf24;"></p>
    </div>

    <script>
        async function uploadKeCloud() {
            const link = document.getElementById('target-link').value;
            const raw = document.getElementById('html-raw').value;
            const status = document.getElementById('status');

            if(!link || !raw) return alert("Isi semua data!");

            // PROSES GANTI TEKS XTMODEPROLINKGET
            const finalHtml = raw.replace(/XTMODEPROLINKGET/g, link);

            // KIRIM KE SERVER CLOUD SHELL (Ganti URL dengan URL Preview Cloud Shell kamu)
            try {
                status.innerText = "Sedang Upload...";
                await fetch('https://8080-cs-xxxxxx.cloudshell.dev/', {
                    method: 'POST',
                    body: JSON.stringify({ html: finalHtml })
                });
                status.innerText = "UPLOAD BERHASIL! Web Anda sudah terupdate secara permanen.";
            } catch (e) {
                status.innerText = "Gagal koneksi ke Cloud Shell. Pastikan server.py sedang jalan.";
            }
        }
    </script>
</body>
</html>
